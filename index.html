<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <title>MCP MMS Browser Agent</title>
</head>
<body>
<div class="container">
    <div class="container">
        <div class="row align-items-center">
            <div class="col">
                <h1 class="mb-0">MMS Browser Agent</h1>
            </div>
            <div class="col-auto" id="logoColumn">
            </div>
            <hr class="hr"/>
        </div>
    </div>
    <div class="row">
        <div class="col-10">
            <h3 class="ps-3" id="mrnH3" hidden></h3>
        </div>
        <div class="col d-flex justify-content-end">
            <button class="btn btn-danger my-2" id="disconnectBtn" hidden>Disconnect</button>
        </div>
    </div>

    <div class="row" id="smmpMenu" hidden>
        <div class="col-6">
            <h3>SMMP Session Establishment</h3>
                <div class="form-group mb-2">
                    <label for="rcClientMrn" class="sr-only">Remote Client MRN</label>
                    <input type="text" class="form-control" id="rcClientMrn" placeholder="urn:mrn:mcp:device:mcc:core:abc">
                </div>
                <button type="submit" class="btn btn-primary mb-2" id="smmpConnectBtn">Connect SMMP</button>
        </div>
        <div class="col-6">
            <h3>Active SMMP Sessions</h3>
            <div id="activeSmmpSessions" hidden>
            </div>
        </div>
    </div>


    <div class="row" id="receiveContainer" hidden>
        <h3>Received messages</h3>
        <div class="container h-100">
            <div class="form-control overflow-auto" id="incomingArea" style="height: 200px"></div>
            <button class="btn btn-primary my-2 item" id="receiveBtn">Receive Messages</button>
        </div>
        <hr class="hr"/>
    </div>
    <div class="row">
        <div class="container" id="msgContainer" hidden>
            <div class="container" id="sendContainer" hidden>
                <div class="row">
                    <h3>Send message</h3>
                </div>
                <div class="row">
                    <label for="receiver" class="form-label">Message type</label>
                    <div class="form-check" id="receiver">
                        <input class="form-check-input" type="radio" id="mrn" name="receiverType" value="mrn">
                        <label class="form-check-label" for="mrn">
                            Direct message
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" id="subject" name="receiverType" value="subject">
                        <label class="form-check-label" for="subject">
                            Subject
                        </label>
                    </div>
                    <select type="text" class="form-select" id="receiverMrn" hidden>
                        <option value="">---Please select an MRN---</option>
                    </select>
                    <select class="form-select" id="subjectSelect" hidden>
                        <option value="">---Please select a subject---</option>
                    </select>
                </div>
                <div class="row">
                    <label for="msgArea" class="form-label">Write Message Here</label>
                    <textarea class="form-control my-2" id="msgArea" cols="50" rows="2"></textarea>
                </div>
                <div class="row">
                    <label for="msgArea" class="form-label">Select File Here (less than 1MB)</label>
                    <input type="file" id="fileInput">
                    <div class="container">
                        <div id="file-state-loaded" class="bg-success text-white py-2 px-3 mb-3">File loaded</div>
                        <div id="file-state-unloaded" class="bg-secondary text-white py-2 px-3">File not chosen</div>
                    </div>
                </div>
                <div class="row">
                    <button class="btn btn-primary mx-2 my-2" id="sendBtn">Send</button>
                    <button class="btn btn-warning mx-2 my-2" id="sendSmmpBtn" hidden>Send SMMP</button>
                </div>
            </div>
            <hr class="hr"/>
            <div class="row">
                <div class="row my-2">
                    <h3>Manage my subscriptions</h3>
                    <ul class="list-group" id="subscriptions"></ul>
                </div>
            </div>
            <div class="row">
            </div>
        </div>
    </div>
</div>


<div class="container" id="connectContainer">
    <div class="row my-2">
        <h3>Connect to MMS network</h3>
    </div>
    <div class="row my-2">
        <label for="edgeRouterAddr" class="form-label">Select MMS Edge Router</label>
        <select class="form-select" id="edgeRouterAddr">
            <option value="">--Please choose an Edge Router--</option>
            <option value="wss://kr-edgerouter.dmc.international:8888">Korea Edge Router</option>
            <option value="wss://eu-edgerouter.dmc.international:8888">EU Edge Router</option>
        </select>
    </div>
    <div class="row my-2">
        <label for="connectionTypeSelect" class="form-label">Select a connection type</label>
        <select class="form-select" id="connectionTypeSelect">
            <option value="">--Please choose a connection type--</option>
            <option value="authenticated">Authenticated</option>
            <option value="unauthenticated">Unauthenticated</option>
        </select>
    </div>
    <div class="row my-2" id="certInputDiv" hidden>
        <label for="certInput" class="form-label">Load certificate file</label>
        <input type="file" id="certInput" class="form-control" accept=".pem, .crt, .cer, .der">
        <label for="privateKeyInput" class="form-label my-2">Load private key file</label>
        <input type="file" id="privateKeyInput" class="form-control" accept=".pem, .key">
    </div>
    <div class="row">
        <button class="btn btn-primary mt-2" id="connectBtn">Connect</button>
    </div>
</div>

</body>
</html>